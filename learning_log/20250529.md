# ì…ì‹¤ ì²´í¬ í•´ì£¼ì„¸ìš” !! ğŸ˜€

# ê¸ˆì¼ ìˆ˜ì—… ê³¼ì •
1. ì½”ë“œ ë¦¬íŒ©í† ë§
2. ìˆ˜ì • íŒŒíŠ¸ ì„¤ì • -> ë˜‘ê°™ì´ ëª¨ë‹¬ì°½ì´ ëœ¹ë‹ˆë‹¤.
  - íŠ¹ì • ì°¨ì— ì‚­ì œ ë²„íŠ¼ ë§Œë“  ê²ƒì²˜ëŸ¼ Edit ë²„íŠ¼ ë§Œë“¤ì–´ìš”.
  - ëª¨ë‹¬ ì°½ì´ ëœ¨ëŠ”ë°, ê·¸ê±´ ìƒì„± ë¶€ë¶„ì—ì„œ êµ¬í˜„í•œ ë°©ì‹ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í• ê²ë‹ˆë‹¤.
  - input ì°½ì— ê¸°ì¡´ ì°¨ì˜ ë°ì´í„°ê°€ ê·¸ëŒ€ë¡œ ë‚˜ì™€ìˆë„ë¡ í• ê²ë‹ˆë‹¤.
  - í•„ìš”í•œ ë¶€ë¶„ë§Œ ìˆ˜ì •ì„ í•˜ë©´, PUT ìš”ì²­ì„ ë³´ë‚´ë„ë¡ í• ê²ë‹ˆë‹¤.
  - DBê°€ ìˆ˜ì •ë˜ê³ , ë§ˆì°¬ê°€ì§€ë¡œ cacheì™€ ë‹¤ë¥¸ì§€ ì²´í¬í•´ì„œ ë¸Œë¼ìš°ì € ìµœì‹ í™”ë¥¼ í•˜ê²Œ ë ê²ë‹ˆë‹¤.

3. ì‡¼í•‘ë¦¬ìŠ¤íŠ¸ì—ì„œ í–ˆë˜ ê²ƒì²˜ëŸ¼ ëª‡ëª‡ HTML íƒœê·¸ë¥¼ muië¡œ ëŒ€ì²´í• ê²ë‹ˆë‹¤. Button / TextFieldë¡œ.
4. mui iconì„ ì ìš©

# Refactoring 
ê¸°ëŠ¥ì€ ë™ì¼í•˜ê²Œ ê°€ì ¸ê°€ë©´ì„œ ë‚´ë¶€ì˜ ë¡œì§ì„ ìˆ˜ì •(ê°œì„ )í•œ ë°©ì‹.

ìˆ˜ì • ê¸°ëŠ¥ì„ êµ¬í˜„í•  ë•Œ C ì—ì„œ ë§Œë“¤ì—ˆë˜ ëª¨ë‹¬ì°½ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í• ê²ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ Cì—ì„œ ë§Œë“  ê±¸ ê·¸ëƒ¥ ctrl + c / v í•´ì„œ ë³µì‚¬ ë¶™ì—¬ë„£ê¸°í•œë‹¤ë©´ ë™ì¼í•œ ê¸°ëŠ¥ì„ í•˜ëŠ” ì½”ë“œê°€ ì¤‘ë³µì ìœ¼ë¡œ ì‚¬ìš©ë ê²ë‹ˆë‹¤. ê·¸ë˜ì„œ ì•„ì˜ˆ ì»´í¬ë„ŒíŠ¸ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ ê·¸ê²ƒì„ Cì—ë„ ì“°ê³  Uì—ë„ ì“¸ ì˜ˆì •ì…ë‹ˆë‹¤.

TextFieldë¥¼ ìì²´ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„í• í•œ ë‹¤ìŒì— New Car / Edit í¼ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í• ê²ë‹ˆë‹¤.

components í´ë”ì— CarDialogContent.tsx ìƒì„±. -> ì´ˆê¸°í™”
í”„ë¡­ì„ ì´ìš©í•˜ì—¬ car ê°ì²´ì™€ handleChange í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œ DialogFormPropsë¼ëŠ” ìƒˆë¡œìš´ ìë£Œí˜•ë„ ìƒì„±í• ê²ë‹ˆë‹¤.
ê·¼ë° ì–˜ëŠ” ëª¨ë‹¬(Dialog) ë‚´ì—ì„œë§Œ ì‚¬ìš©í• ê±°ë¼ types.tsì—ëŠ” ì“°ì§€ ì•Šì„ê²ë‹ˆë‹¤.

ì´ìƒì˜ ì§€ì‹œì‚¬í•­ì„ ì½”ë“œë¡œ êµ¬í˜„í•œ ê²ƒì´

```tsx
//CarDialogContent.tsx
import { Car } from "../types";

type DialogFormProps = {
  car: Car;
  handleChange: (event : React.ChangeEvent<HTMLInputElement>) => void;
}

export default function CarDialogContent({ car, handleChange } : DialogFormProps) {

  return (<></>);
}
```

ê·¸ë¦¬ê³  CarDialogContentì— AddCar ì»´í¬ë„ŒíŠ¸ì˜ `<DialogContent>` íƒœê·¸ ë¶€ë¶„ì„ ì „ì²´ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê³ ,
AddCarì—ì„œëŠ” DialogContent íƒœê·¸ë¥¼ ì „ì²´ ì‚­ì œí•©ë‹ˆë‹¤. ì´ë¥¼ CarDialogContentë¡œ ëŒ€ì²´í–ˆìŠµë‹ˆë‹¤.
ì˜ˆì‹œì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
ì£¼ì„ ë¶€ë¶„ì„ í’€ê³  ì‹¤í–‰ì‹œì¼œê°€ë©´ì„œ ë¹„êµí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

```tsx
// AddCar.tsx
import { Dialog, DialogActions, DialogContent, DialogTitle } from "@mui/material";
import { Car } from "../types";
import { useState } from "react";
import { useMutation, useQueryClient } from "@tanstack/react-query";
import { addCar } from "../api/carapi";
import CarDialogContent from "./CarDialogContet";

export default function AddCar() {
  const [ open, setOpen ] = useState(false);
  const [ car, setCar ] = useState<Car>({
    brand: '',
    model: '',
    color: '',
    registrationNumber: '',
    modelYear: 0,
    price: 0,
  });
  const queryClient = useQueryClient();

  const { mutate } = useMutation(addCar, {
    onSuccess: () => {
      queryClient.invalidateQueries(['cars']);
    },
    onError: (err) => console.log(err),
  });

  // ìë™ì°¨ë¥¼ ì €ì¥í•˜ê³  ëª¨ë‹¬ í¼ì„ ë‹«ì„ ìˆ˜ ìˆë„ë¡ í• ê²ë‹ˆë‹¤.
  const handleSave = () => {
    mutate(car);
    setCar({
      brand: '',
      model: '',
      color: '',
      registrationNumber: '',
      modelYear: 0,
      price: 0,
    });
    handleClose();
  }


  const handleClickOpen = () => setOpen(true);

  const handleClose = () => setOpen(false);

  const handleChange = (event : React.ChangeEvent<HTMLInputElement>) => 
  {
    setCar({...car, [event.target.name]: event.target.value})
  }
  
  return(
    <>
      <button onClick={handleClickOpen}>New Car</button>
      <Dialog open={open} onClose={handleClose}>
        <DialogTitle>New Car</DialogTitle>
        <CarDialogContent car={car} handleChange={handleChange} />

        {/* <DialogContent>
          <input placeholder="Brand" name="brand" value={car.brand} onChange={handleChange} /><br />
          <input placeholder="Model" name="model" value={car.model} onChange={handleChange} /><br />
          <input placeholder="Color" name="color" value={car.color} onChange={handleChange} /><br />
          <input placeholder="Reg.nr" name="registrationNumber" value={car.registrationNumber} onChange={handleChange} /><br />
          <input placeholder="Year" name="modelYear" value={car.modelYear} onChange={handleChange} /><br />
          <input placeholder="Price" name="price" value={car.price} onChange={handleChange} /><br />
        </DialogContent> */}
        <DialogActions>
          <button onClick={handleClose}>Cancel | ì·¨ì†Œ</button>
          <button onClick={handleSave}>Save | ì €ì¥</button>
        </DialogActions>
      </Dialog>
    </>
  );
}
```

# ìˆ˜ì • ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°

Cì˜ ê²½ìš°ì—ëŠ” ì—†ëŠ” ì°¨ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— Carlist ì»´í¬ë„ŒíŠ¸ì— New Car | ì¶”ê°€ ë²„íŠ¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤.
ê·¸ëŸ°ë° Uì˜ ê²½ìš°ì—ëŠ” ìˆëŠ” ì°¨ë¥¼ ìˆ˜ì •í•˜ê¸° ë•Œë¬¸ì— ì—”ë“œí¬ì¸íŠ¸ì— `/api/cars/{id}`ê°€ ìˆì„ê²ë‹ˆë‹¤.
ê·¸ë˜ì„œ ê° rowì— Edit ë²„íŠ¼ì„ ì¶”ê°€í•˜ê³ , ê·¸ Edit ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ì‚¬ìš©ìê°€ ê¸°ì¡´ ìë™ì°¨ë¥¼ í¸ì§‘í•˜ê³  ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í•  ìˆ˜ ìˆëŠ” ëª¨ë‹¬ í¼ì´ ëœ° ìˆ˜ ìˆë„ë¡ ì‘ì„±í• ê²ë‹ˆë‹¤.

components í´ë”ì— EditCar.tsx ìƒì„±í•˜ê³  ì´ˆê¸°í™”í• ê²ë‹ˆë‹¤.
ê·¸ë¦¬ê³  EditCar ì»´í¬ë„ŒíŠ¸ì— CarResponse ìë£Œí˜•ì˜ ë°ì´í„°ê°€ ì „ë‹¬ë˜ì–´ì•¼ê² ë„¤ìš”(ì´ë¯¸ ë§Œë“¤ì–´ì§„ ì°¨ë¥¼ ìˆ˜ì •í•˜ë‹ˆê¹Œ Carê°€ ì•„ë‹ˆë¼ CarResponseì…ë‹ˆë‹¤).
ê·¸ë˜ì„œ ì°¨ì— ëŒ€í•œ ìƒíƒœë„ ì‚¬ìš©í•˜ê²Œ ë ê²ë‹ˆë‹¤. ê·¼ë° ìˆ˜ì •í•  ë•ŒëŠ” _link.self.hrefê°™ì€ê±´ ìˆ˜ì • ì•ˆí•˜ì£ . ê·¸ë˜ì„œ Carë„ ì”ë‹ˆë‹¤.

Edit ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ Dialog ì»´í¬ë„ŒíŠ¸ê°€ í¼ì³ì ¸ì•¼í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ê·¸ì €ê»˜ë‘ ì–´ì œ ë°°ìš´ ê²ƒì²˜ëŸ¼ open ìƒíƒœë¥¼ ì •ì˜í•´ì•¼ê² ë„¤ìš”.

ì •ì˜ë„ í–ˆê³ , ê·¸ëŸ¬ë©´ car ì •ë³´ê°€ ì…ë ¥ë˜ëŠ” ë¶€ë¶„ì´ handleClickOpenì´ë¼ëŠ” ë…¼ë¦¬ì ì¸ ì„¤ê³„ì— ë”°ë¼ì„œ ì™„ì„±ëœ
EditCar.tsxëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```tsx
//EditCar.tsx
import { useState } from "react";
import { Dialog,DialogActions, DialogTitle } from "@mui/material";
import { Car, CarResponse } from "../types";
import CarDialogContent from "./CarDialogContet";

type FormProps = {
  cardata: CarResponse
}

export default function EditCar({ cardata } : FormProps) {
  const [ open, setOpen ] = useState(false);
  const [ car, setCar ] = useState<Car>({
    brand: '',
    model: '',
    color: '',
    registrationNumber: '',
    modelYear: 0,
    price: 0,
  });

  const handleClickOpen = () => {
    setCar({
      brand: cardata.brand,
      model: cardata.model,
      color: cardata.color,
      registrationNumber: cardata.registrationNumber,
      modelYear: cardata.modelYear,
      price: cardata.price
    })
    
    setOpen(true);
  }

  const handleClose = () => setOpen(false);

  const handleSave = () => {
    setOpen(false);
  }

  const handleChange = (event : React.ChangeEvent<HTMLInputElement>) => 
    {
      setCar({...car, [event.target.name]: event.target.value})
    }
  
  return(
    <>
      <button onClick={handleClickOpen}>Edit</button>
      <Dialog open={open} onClose={handleClose}>
        <DialogTitle>Edit Car | ì°¨ëŸ‰ ìˆ˜ì •í•˜ê¸°</DialogTitle>
        <CarDialogContent car={car} handleChange={handleChange} />
        <DialogActions>
          <button onClick={handleClose}>Cancel | ì·¨ì†Œ</button>
          <button onClick={handleSave}>Save | ì €ì¥</button>
        </DialogActions>
      </Dialog>
    </>
  );
}
```

ì´ì œ Carlist ì»´í¬ë„ŒíŠ¸ì— ì‚­ì œ ë²„íŠ¼ ì¶”ê°€í•œ ê²ƒì²˜ëŸ¼ ìˆ˜ì • ë²„íŠ¼ì„ ì¶”ê°€í• ê²ë‹ˆë‹¤.
ê·¸ëŸ´ëŸ¬ë©´ columnsë¥¼ ìˆ˜ì •í•´ì•¼ê² ë„¤ìš”.
ê·¸ëŸ¬ë©´ ì‚¬ì‹¤ ì‚­ì œ ë²„íŠ¼ì— ì‘ì„±í•œ ë°©ì‹ì„ ì´ìš©í•˜ê²Œ ëœë‹¤ë©´ ê±°ì˜ ìœ ì‚¬í•˜ê²Œ í™”ë©´ì„ ë§Œë“¤ ìˆ˜ëŠ” ìˆì„ê²ë‹ˆë‹¤.

```tsx
import { useQuery, useMutation, useQueryClient } from "@tanstack/react-query";
import { getCars, deleteCar } from "../api/carapi";
import { DataGrid, GridColDef, GridCellParams } from "@mui/x-data-grid";
import { Snackbar } from "@mui/material";
import { useState } from "react";
import AddCar from "./AddCar";
import EditCar from "./EidtCar";

export default function Carlist() {
  const queryClient = useQueryClient();

  const [ open, setOpen ] = useState(false);

  const { data, error, isSuccess } = useQuery({
    queryKey: ['cars'],
    queryFn: getCars
  });

  const { mutate } = useMutation(deleteCar, {
    onSuccess: () => {
      setOpen(true);
      queryClient.invalidateQueries({queryKey: ['cars']});
    },
    onError: (err) => {
      console.log(err);
    },
  })


  const columns: GridColDef[] = [
    {field: 'brand', headerName: 'Brand', width: 200},
    {field: 'model', headerName: 'ëª¨ë¸ëª…', width: 200},
    {field: 'color', headerName: 'Color', width: 200},
    {field: 'registrationNumber', headerName: 'ë“±ë¡ë²ˆí˜¸', width: 150},
    {field: 'modelYear', headerName: 'Model Year', width: 150},
    {field: 'price', headerName: 'ê°€ê²©', width: 150},
    {
      field: 'edit',
      headerName: 'ìˆ˜ì •',
      width: 70,
      sortable: false,
      filterable: false,
      disableColumnMenu: true,
      renderCell: (params: GridCellParams) => <EditCar cardata={params.row}/>
    },
    {
      field: 'delete',
      headerName: 'ì‚­ì œ',
      width: 70,
      sortable: false,
      filterable: false,
      disableColumnMenu: true,
      renderCell: (params: GridCellParams) => (
        <button onClick={() => {
            if(window.confirm(`${params.row.brand}ì˜ ${params.row.model} ìë™ì°¨ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
              mutate(params.row._links.self.href);
            }
          }}
        >
          Delete
        </button>
      ),
    },
  ]


  if (!isSuccess) {
    return <span>Loading ... ğŸ’¨</span>
  }

  else if (error) {
    return <span>ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤ ... ğŸ˜ª</span>
  }

  else {
    return(
      <>
        <AddCar />
        <DataGrid 
          rows={data}
          columns={columns}
          disableRowSelectionOnClick = {true}
          getRowId={ row => row._links.self.href}
        />
        <Snackbar 
          open={open}
          autoHideDuration={2000}
          onClose={() => setOpen(false)}
          message='ìë™ì°¨ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.'
        />
      </>

    );
  } 
}
```

ì´ìƒì˜ ì½”ë“œë¥¼ í†µí•´ ì´ì œ Edit ë²„íŠ¼ì„ ëˆ„ë¥´ê²Œ ë˜ë©´ ëª¨ë‹¬ì°½ì´ ëœ¨ê³  ìˆ˜ì •ì„ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
ë‹¤ë§Œ í˜„ì¬ ìƒí™©ì—ì„œëŠ” í™”ë©´ë§Œ ê·¸ëŸ´ë¿ì´ê³  ì‹¤ì œ DB ìƒì—ì„œì˜ ë³€ê²½ì´ ì¼ì–´ë‚˜ì§€ ì•Šê³  ìˆìŠµë‹ˆë‹¤.
ì´ ë¶€ë¶„ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” axios.put ìš”ì²­ì„ í•´ì•¼ë§Œ í•©ë‹ˆë‹¤.
carapi.tsì— ì‘ì„±ì„ í–ˆì—ˆìŠµë‹ˆë‹¤.

```ts
// types.ts
export type CarEntry = {
  car: Car;
  url: string;
}
```

ìë™ì°¨ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ë ¤ë©´ http://localhost:8080/api/cars/{id} URLë¡œ PUT ìš”ì²­ì„ ë³´ë‚´ì•¼ë§Œ í•©ë‹ˆë‹¤. ì € ë§í¬ëŠ” _ì‚­ì œ_ ê¸°ëŠ¥ì—ì„œì˜ ë§í¬ì™€ ë™ì¼í•©ë‹ˆë‹¤.
ê·¼ë° ìš”ì²­ ë³¸ë¬¸ì—ëŠ” ìˆ˜ì •ëœ ìë™ì°¨ ê°ì²´ì™€ ìƒì„± ê¸°ëŠ¥ì—ì„œ ì„¤ì •í•œ 'Content-Type': 'application/json' í—¤ë”ê°€ í¬í•¨ë©ë‹ˆë‹¤.
ê·¸ë¦¬ê³  ìˆ˜ì • ê¸°ëŠ¥ì„ ìœ„í•´ì„œëŠ” ìƒˆë¡œìš´ ìë£Œí˜•ë„ í•„ìš”í•©ë‹ˆë‹¤.
ê·¸ë˜ì„œ ì´ìƒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ CarEntry ìë£Œí˜•ì„ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.
ê·¸ ë‹¤ìŒì—ëŠ” carapi.tsì— updateCar í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê² ìŠµë‹ˆë‹¤.

# React MUIë¡œ frontend ê¾¸ë¯¸ê¸°

Button ì»´í¬ë„ŒíŠ¸ë¥¼ ì´ìš©í•˜ì—¬ ë²„íŠ¼ì— ìŠ¤íƒ€ì¼ ì§€ì •
muiì•„ì´ì½˜ê³¼ IconButton ì»´í¬ë„ŒíŠ¸ë„ ì‚¬ìš©
input íƒœê·¸ëŠ” TextField

## MUI Button ì»´í¬ë„ŒíŠ¸ ì´ìš©
í˜„ì¬ ì €í¬ëŠ” AppBar / Dialog ë“±ì˜ MUIë¥¼ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ ì—¬ì „íˆ html íƒœê·¸ë„ ì‚¬ìš©ì¤‘ì…ë‹ˆë‹¤.
ì¼ë‹¨ì€ button íƒœê·¸ë¥¼ MUIì˜ Button ì»´í¬ë„ŒíŠ¸ë¡œ ëŒ€ì²´í•´ë³´ê² ìŠµë‹ˆë‹¤.

EditCar ì»´í¬ë„ŒíŠ¸ì˜ `<button>`ì„ ì „ë¶€ Button ì»´í¬ë„ŒíŠ¸ë¡œ ëŒ€ì²´í•˜ì‹œì˜¤.

## MUI ì•„ì´ì½˜ê³¼ IconButton ì»´í¬ë„ŒíŠ¸ ì´ìš©í•˜ê¸°

ì°¸ê³  ì‚¬ì´íŠ¸
https://mui.com/material-ui/material-icons/

npm install @mui/icons-material@5.11.16

ì´ìƒì˜ ë²„ì „ì„ ì„¤ì¹˜í–ˆê³ , ì €í¬ëŠ” IconButton ì»´í¬ë„ŒíŠ¸ì™€ DeleteIconì„ ì‚¬ìš©í• ê²ë‹ˆë‹¤.

```tsx
import { useQuery, useMutation, useQueryClient } from "@tanstack/react-query";
import { getCars, deleteCar } from "../api/carapi";
import { DataGrid, GridColDef, GridCellParams } from "@mui/x-data-grid";
import { Snackbar, IconButton } from "@mui/material";
import { useState } from "react";
import AddCar from "./AddCar";
import EditCar from "./EidtCar";
import DeleteIcon from '@mui/icons-material/Delete';    // ë³µì‚¬í•œ ë²„ì „ìœ¼ë¡œ ë‚¨ê²¨ë‘ê² ìŠµë‹ˆë‹¤.
```
ê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ import í–ˆëŠ”ë°
ì´ìƒì˜ ì°¸ê³  ì‚¬ì´íŠ¸ì—ì„œ ì›í•˜ëŠ” ì•„ì´ì½˜ì„ í´ë¦­í•˜ê³ , ê±°ê¸°ì„œ importë¬¸ì„ ë³µì‚¬í•´ì˜¤ì‹œë©´ ë©ë‹ˆë‹¤.

button ìš”ì†Œë¥¼ IconButtonìœ¼ë¡œ ë³€ê²½í• ê±°ê³ , IconButton ì»´í¬ë„ŒíŠ¸ ë‚´ì— DeleteIconì„ ë Œë”ë§í• ê²ë‹ˆë‹¤.
ë²„íŠ¼ê³¼ ì•„ì´ì½˜ _í¬ê¸°ë¥¼ ì‘ê²Œ_ ì„¤ì •í• ê²ë‹ˆë‹¤.
ë²„íŠ¼ì—ëŠ” ì ‘ê·¼ ê°€ëŠ¥í•œ ì´ë¦„ì´ ë”°ë¡œ ì—†ê¸° ë•Œë¬¸ì— aria-labelì„ ì´ìš©í•˜ì—¬ ì‚­ì œ ì•„ì´ì½˜ ë²„íŠ¼ì— ë ˆì´ë¸”ì„ ì§€ì •í•˜ëŠ” ë¬¸ìì—´ì„ ì •ì˜í• ê²ë‹ˆë‹¤.
í•´ë‹¹ ì†ì„±ì€ ìŠ¤í¬ë¦° ë¦¬ë” ë“±(ì‹œê°ì¥ì• ì¸ì„ ìœ„í•œ ìš”ì†Œ)ì˜ ë³´ì¡° ê¸°ìˆ ì—ì„œë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ë²„íŠ¼ íƒœê·¸ì—ëŠ” `<button>ì‚­ì œ</button>` í˜•ì‹ìœ¼ë¡œ í…ìŠ¤íŠ¸ê°€ ë“¤ì–´ê°€ì§€ë§Œ,
ì•„ì´ì½˜ì€ ê·¸ ìì²´ì´ê¸° ë•Œë¬¸ì— string ë°ì´í„°ê°€ ë“¤ì–´ê°ˆ ìš”ì†Œê°€ ì—†ìŠµë‹ˆë‹¤.

ì´ìƒì˜ ê²½ìš° ì‹œê° ì¥ì• ì¸ì´ ë¸Œë¼ìš°ì €ë¥¼ í™•ì¸í•˜ê²Œ ë  ê²½ìš°ì— ì‚­ì œë¼ëŠ” ê²ƒì„ ì¸ì‹í•  ë°©ë²•ì´ ì—†ìœ¼ë¯€ë¡œ aria-label ì†ì„±ì— ì‚­ì œë¥¼ ì •ì˜í•˜ì—¬ ì‹œê° ì¥ì• ì¸ë„ ì‚­ì œ ë²„íŠ¼ì´ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

IconButtonì˜ ê²½ìš°ì˜ ì‚¬ì´ì¦ˆ ì†ì„±ì€ sizeì¸ë° ë°˜í•´,
`<IconButton size="small">`
DeleteIconì˜ ê²½ìš°ëŠ” ì‚¬ì´ì¦ˆ ì†ì„±ì´ fontSizeì…ë‹ˆë‹¤.
`<DeleteIcon fontSize="small" />`

ê·¸ë¦¬ê³  Tooltipë„ ë°°ì› ìŠµë‹ˆë‹¤.
Tooltipì˜ ê²½ìš° ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ ê°–ë‹¤ ëŒ”ì„ ë•Œ íŒì—… í˜•íƒœë¡œ ê·¸ ì•„ì´ì½˜ì´ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ ì„¤ëª…í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— title í”„ë¡­ì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.

```tsx
<Tooltip title="ìë™ì°¨ ìˆ˜ì •" > </Tooltip>
```
í˜•íƒœë¡œ ì‘ì„±í•©ë‹ˆë‹¤.

## MUI TextField ì»´í¬ë„ŒíŠ¸ ì´ìš©

TextField ì»´í¬ë„ŒíŠ¸
Stack ì»´í¬ë„ŒíŠ¸
  - í…ìŠ¤íŠ¸ í•„ë“œ ì‚¬ì´ì˜ ê³µë°±ì„ ì„¤ì •í•˜ëŠ” ì»´í¬ë„ŒíŠ¸(brì„ ì“°ê²Œ ë˜ë©´ ì–˜ë¥¼ ë”°ë¡œ css)

```tsx
      <Stack spacing={2} mt={1}>
        <TextField placeholder="Brand" name="brand" value={car.brand} onChange={handleChange} />
        <TextField placeholder="Model" name="model" value={car.model} onChange={handleChange} />
        <TextField placeholder="Color" name="color" value={car.color} onChange={handleChange} />
        <TextField placeholder="Reg.nr" name="registrationNumber" value={car.registrationNumber} onChange={handleChange} />
        <TextField placeholder="Year" name="modelYear" value={car.modelYear} onChange={handleChange} />
        <TextField placeholder="Price" name="price" value={car.price} onChange={handleChange} />
      </Stack>
```
spacing - ì—¬ë°±ì„ ì£¼ëŠ” ë‹¨ìœ„
- ì¶•ì•½í˜• ìŠ¤íƒ€ì¼ í”„ë¡­
  - mt margin-top
  - mb margin-bottom
  - ml margin-left
  - mr margin-right
  - mx margin-left + right (ì¢Œìš° ì—¬ë°±)
  - my margin-top + bottom (ìƒí•˜ ì—¬ë°±)

## ë¡œê·¸ì¸ / ë¡œê·¸ì•„ì›ƒ

## ë°±ì—”ë“œ ë¶€ë¶„ ì²˜ë¦¬í•˜ê¸°
SecurityConfig.javaì— ì €í¬ ì£¼ì„ì²˜ë¦¬ í•´ë†¨ë˜ ë¶€ë¶„ì„ ë‹¤ì‹œ ì‚´ë ¤ì•¼í•©ë‹ˆë‹¤.

ì£¼ì„ ì²˜ë¦¬í•œ ë¶€ë¶„ì„ ì‚´ë¦¬ê³  ë¡œê·¸ì¸ í™œì„±í™” ì‹œí‚¨ í›„ì— spring boot projectë¥¼ ì¬ì‹¤í–‰í•˜ê²Œ ë˜ë©´, í”„ë¡ íŠ¸ í˜ì´ì§€ì—ì„œ ìƒˆë¡œê³ ì¹¨ í–ˆì„ ë•Œ ì´ì œ ë”ì´ìƒ DBì—ì„œ ìë™ì°¨ ì •ë³´ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ê°œë°œì ë„êµ¬ë¥¼ í™•ì¸í•´ë³´ì‹œë©´ ì½˜ì†” / Network íƒ­ì—ì„œ 401 Unathorizedë¼ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## í”„ë¡ íŠ¸ ì—”ë“œ ë¶€ë¶„ ì²˜ë¦¬í•˜ê¸°
### ë¡œê·¸ì¸ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°
components í´ë”ì— Login.tsx ë§Œë“¤ê³  ì´ˆê¸°í™”í•˜ì„¸ìš”.
- ì´ìƒì˜ ê³¼ì •ì—ì„œ ë¡œê·¸ì¸ì„ í•  ë•Œ ì €í¬ê°€ postmanì—ì„œ í–ˆë˜ ê²ƒì²˜ëŸ¼ POST ìš”ì²­ì„ /login ì—”ë“œí¬ì¸íŠ¸ë¡œ ë³´ë‚´ì•¼í•©ë‹ˆë‹¤.
  ê·¸ë ‡ë‹¤ë©´ í”„ë¡ íŠ¸ì—”ë“œ ìƒì—ì„œëŠ” POST ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ axiosë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ í˜¹ì€ fetch APIë¥¼ ì¨ì•¼ê² ë„¤ìš”. -> ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” axiosë¥¼ importí–ˆë‹¤.

Authenticationì—ëŠ” ë‘ ê°€ì§€ ìƒíƒœê°€ í•„ìš”í•©ë‹ˆë‹¤.
1. ìê²© ì¦ëª… - username / password
2. bool - ì¸ì¦ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ”(ì¦‰ authenticated? true / false)

3. ë¡œê·¸ì¸ ì°½ ë§Œë“¤ê±°ë‹ˆê¹Œ ì €í¬ê°€ ì•„ê¹Œ CarDialogContentì—ì„œ ì‘ì„±í–ˆë˜ ê²ƒì²˜ëŸ¼ TextField, Stack, Buttonì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
returnì„ ê·¸ë ‡ê²Œ ê¾¸ëª„ê³ , í•„ìš”í•œ í”„ë¡­ë“¤ì„ ì´ìš©í•´ì„œ spacing / mt ë“±ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
password ì…ë ¥ë€ì— ë¬¸ì œê°€ ìˆì„ ê²ƒ ê°™ì•„
`<TextField type="password" />`ë„ ì§€ì •í•´ì¤¬ìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ TextFieldë¥¼ ì‚¬ìš©í•˜ë©´ ì•Œì•„ì„œ ë”°ë¼ì˜¤ëŠ” ì• ë“¤ë„ ì‘ì„±í•´ì¤¬ìŠµë‹ˆë‹¤.
ê·¸ê²Œ ì´í•˜ì˜ ì½”ë“œì— í•´ë‹¹í•©ë‹ˆë‹¤.

```tsx
import { useState } from "react";
import axios from "axios";
import { TextField, Button, Stack } from "@mui/material";

type User = {
  username: string;
  password: string;
}

export default function Login() {
  const [ user, setUser ] = useState<User>({
    username: '',
    password: '',
  });

  const [ isAuthenticated, setAuth ] = useState(false);

  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    setUser({
      ...user, [event.target.name]:event.target.value
    });
  }

  return(
    <Stack spacing={2} alignItems="center" mt={2}>
      <TextField name="username" label="username" onChange={handleChange}/>
      <TextField name="password" label="password" onChange={handleChange} type="password"/>
      <Button>
        Login
      </Button>
    
    </Stack>
  );
} 
```

4. ì´ì œ POST ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ /login ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•˜ê³  ë³¸ë¬¸ ë‚´ë¶€ì˜ ì‚¬ìš©ì ê°ì²´ë¥¼ ì „ì†¡í•˜ì—¬ ë¡œê·¸ì¸ì„ ì „ì†¡(ì¦‰ postmanì—ì„œ í–ˆë˜ ê²ƒì„ ë¸Œë¼ìš°ì €ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤). ì¸ì¦ì— ì„±ê³µí•˜ê²Œ ë˜ë©´ Authentication í—¤ë”ì— í† í°ì„ ë°›ê²Œ ë©ë‹ˆë‹¤(ë§ˆì°¬ê°€ì§€ë¡œ postmanì—ì„œ í™•ì¸í–ˆì—ˆìŠµë‹ˆë‹¤).
ê·¸ëŸ° ë‹¤ìŒì— í† í°ì„ ì €ì¥(ì„¸ì…˜ ì €ì¥ì†Œì—)í•˜ê³ , isAuthenticatedì˜ ìƒíƒœê°’ì„ trueë¡œ ë°”ê¿”ì¤„ ê²ë‹ˆë‹¤.

  * ì„¸ì…˜ ì €ì¥ì†Œ(session storage) - ë¡œì»¬ ì €ì¥ì†Œ(local storage)ì™€ ë¹„ìŠ·í•˜ê¸´ í•œë°, í˜ì´ì§€ ì„¸ì…˜ì´ ì¢…ë£Œë˜ë©´(í˜ì´ì§€ê°€ ë‹«íˆê²Œ ë˜ë©´) ì§€ì›Œì§‘ë‹ˆë‹¤.
  localStorage / sessionStorageëŠ” Window ì¸í„°í˜ì´ìŠ¤ì˜ ì†ì„±ì— í•´ë‹¹.

```tsx
const [ isAuthenticated, setAuth ] = useState(false);

  const handleLogin = () => {
    axios.post(`${import.meta.env.VITE_API_URL}/login`, user, {
      headers: { 'Content-Type': 'application/json'}
    })
    .then(response => {
      const jwtToken = response.headers.authorization;
      if(jwtToken !== null) {
        sessionStorage.setItem("jwt", jwtToken);
        setAuth(true);
      }
    })
    .catch(err => console.log(err));
  }
```

ì´ìƒì˜ ì½”ë“œëŠ” axiosì˜ post ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ addCar í•¨ìˆ˜ì™€ ìœ ì‚¬í•˜ê²Œ ë³´ì´ì§€ë§Œ async / awaitì„ ì ìš©í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— .then()ìœ¼ë¡œ ì´ì–´ì§€ëŠ” ë¹„ë™ê¸°ì‹ ì‘ì„±ì„ í–ˆìŠµë‹ˆë‹¤.

ë¹„ë™ê¸°ì‹ ì‘ì„±ì˜ ê²½ìš°ì—ëŠ” ì²˜ìŒì— fetch APIí• ë•Œë§Œ í•œ ë²ˆ ì‚¬ë¡€ ë³´ì—¬ì£¼ê³  ê·¸ ë’¤ë¡œëŠ” ì „ë¶€ async / awaitìœ¼ë¡œë§Œ ì‘ì„±í–ˆê¸° ë•Œë¬¸ì— ì˜ˆì‹œë¡œ ë‚¨ê²¨ë‘ì—ˆìŠµë‹ˆë‹¤.

ì—¬ëŸ¬ë¶„ë“¤ì´ ê³µë¶€í•˜ì‹¤ ë•Œì—ëŠ” addCar() / handleLogin()ì˜ ìœ ì‚¬ì  ë° ì°¨ì´ì ì— ì£¼ëª©í•˜ì—¬ ê³µë¶€í•˜ì‹œë©´ ë˜ê² ìŠµë‹ˆë‹¤.