# ì…ì‹¤ ì²´í¬ í•´ì£¼ì„¸ìš” !! ğŸ’¤
SQLD ì¤€ë¹„í•˜ì„¸ìš” !! 

https://github.com/maybeags/korit_3_backend_example_1
C:\ì—¬ëŸ¬ë¶„ì˜ì–´ì´ë¦„\cardatabase_project\backend

ch6 ìƒì„±
carfront / React / TypeScript
í´ë” ì´ë™ í•´ì„œ
npm install
npm run dev
App.tsx ì´ˆê¸°í™”

npm install @mui/material@5.17.1
npm install @emotion/react@11.14.0
npm install @emotion/styled@11.14.0
npm install @tanstack/react-query@4.36.1
npm install axios

ì´ìƒì˜ dependencies ì™„ë£Œí•˜ì…¨ìœ¼ë©´
git add .
git commit -m "feat: carfront created"
git push

```tsx
import { AppBar, Toolbar, Typography, Container, CssBaseline } from "@mui/material"

function App() {
  

  return (
    <Container maxWidth="xl">
    <CssBaseline />
      <AppBar position="static">
        <Toolbar>
          <Typography variant="h6">
            Car Shop | ìë™ì°¨ ê±°ë˜ì†Œ
          </Typography>
        </Toolbar>
      </AppBar>
    </Container>
  )
}

export default App

```

- Container
  - ê¸°ë³¸ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ì— í•´ë‹¹í•˜ëŠ”ë°, ì•± ì»¨í…ì¸ ë¥¼ ê°€ë¡œë¡œ ì¤‘ì•™ì— ë°°ì¹˜í•¨
  - maxWidthë¥¼ í†µí•´ ì‚¬ì´ì¦ˆë¥¼ ì§€ì •, ì•±ì˜ ìµœëŒ€ ë„ˆë¹„(ê°€ë¡œ ê¸¸ì´)
- AppBar
  - positoion í”„ë¡­ì„ ê°€ì§€ë©°, staticìœ¼ë¡œ ì§€ì •í•  ì‹œ ìŠ¤í¬ë¡¤ì„ ë‚´ë¦´ ë•Œ ì•± ë°”ê°€ ìƒë‹¨ì— ê³ ì •ë˜ì§€ ì•Šê³  ì‚¬ë¼ì§€ê²Œ ë¨. fixedì¼ ê²½ìš° ì•± ë°”ê°€ ìƒë‹¨ì— ê³ ì •ë¼ìˆìŒ.
- CssBaseline
  - ì—¬ëŸ¬ ë¸Œë¼ìš°ì €ì—ì„œ ë¦¬ì•¡íŠ¸ ì•±ì˜ ëª¨ì–‘ì´ ê· ì¼í•˜ê²Œ í•  ìˆ˜ ìˆë„ë¡ í†µì œí•˜ëŠ” Component
  - ë³´í†µ ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ìµœìƒìœ„ ë ˆë²¨ì— í¬í•¨ë˜ì–´ ìŠ¤íƒ€ì¼ì´ ì „ì—­ì ìœ¼ë¡œ ì ìš©ë˜ê²Œë” í•©ë‹ˆë‹¤.
ë¬¼ë¡  ì´ìƒì„ ì ìš©í•˜ê¸° ìœ„í•´ main.tsxì—ì„œ index.css importë¬¸ì„ ì‚­ì œí•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.

ì°¸ê³  ìë£Œ
https://github.com/mui/material-ui
https://mui.com/material-ui/getting-started/

# CRUD ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°

intellijì—ì„œ í”„ë¡œì íŠ¸ ì‹¤í–‰
postmanì—ì„œ
http://localhost:8080/api/cars GET ìš”ì²­ì„ í–ˆì„ ë•Œ
ì €í¬ê°€ ë“±ë¡í•œ ìë™ì°¨ ë„¤ ëŒ€ê°€ ë‹¤ ë‚˜ì˜¤ëŠ”ì§€ ì²´í¬í•˜ì…”ì•¼ í•©ë‹ˆë‹¤.

ì´ìƒì´ ìˆë‹¤ë©´ ì´ìƒ ìˆëŠ” ë¶€ë¶„ì„ ì§ì ‘ ì²˜ë¦¬í•´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤
(ë‹¤ìˆ˜ì˜ ê²½ìš° í¬íŠ¸ ë„˜ë²„ê°€ ì ìœ  ì¤‘ì¼ê²ë‹ˆë‹¤)

í˜¹ì‹œ ì•ˆë˜ì‹œë©´ ì œ ê¹ƒí—ˆë¸Œì— ë¡œê·¸ì¸ì´ ë˜ì§€ ì•Šë”ë¼ë„ ìš”ì²­í•œ ì„±ê³µ ì‚¬ë¡€ë¥¼ ì˜¬ë ¤ë‘ì—ˆìŠµë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ë¥¼ importí•˜ê² ìŠµë‹ˆë‹¤.
-> ë¦¬ì•¡íŠ¸ì¿¼ë¦¬ ì„í¬íŠ¸ -> ì¿¼ë¦¬í´ë¼ì´ì–¸íŠ¸ ê°ì²´ ìƒì„± -> returnì— QueriyClientProvider ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© / client í”„ë¡­ ì‚¬ìš©í•´ì„œ ë‚´ë¶€ì— ë§Œë“  ê°ì²´ëª…ì„ ì§‘ì–´ë„£ìŠµë‹ˆë‹¤.

```tsx
      <QueryClientProvider client={queryClient}>
        
      </QueryClientProvider>
```
ì´ìƒì´ í•œê¸€ ë‚´ìš©ì„ ì½”ë“œë¡œ í’€ì´í•œ ë¶€ë¶„ì…ë‹ˆë‹¤.

## ë°±ì—”ë“œì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
components í´ë” ìƒì„± / Carlist.tsx íŒŒì¼ ìƒì„±
ì´ˆê¸°í™”í•˜ê¸°
src í´ë”ì˜ í•˜ìœ„ì— types.ts íŒŒì¼ ìƒì„±(ìë™ì°¨ ë°ì´í„° íƒ€ì…ì„ ì •ì˜í•˜ê¸° ìœ„í•´)


```json
{
  "brand": "Kia",
  "model": "Seltos",
  "color": "Chacoal",
  "registrationNumber": "360ìˆ˜5690",
  "modelYear": 2020,
  "price": 28000,
  "_links": {
      "self": {
          "href": "http://localhost:8080/api/cars/4"
      },
      "car": {
          "href": "http://localhost:8080/api/cars/4"
      },
      "owner": {
          "href": "http://localhost:8080/api/cars/4/owner"
      }
  }
}
```

ì´ìƒì˜ JSON ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ types.tsì— CarResponse ë°ì´í„°ì˜ ìë£Œí˜•ë“¤ì„ ì •ì˜í–ˆìŠµë‹ˆë‹¤.

ì´ì œ http://localhost:8080/api/cars ì—”ë“œ í¬ì¸íŠ¸ë¡œ GETìš”ì²­ì„ ë‚ ë ¤ì„œ ë°±ì—”ë“œì—ì„œ ìë™ì°¨ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì˜¤ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í• ê²ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” CarResponse ê°ì²´ ë°°ì—´ì„ í¬í•¨í•œ _í”„ë¡œë¯¸ìŠ¤_ ë¥¼ ë°˜í™˜. -> fetch() / axios ì‚¬ìš©í•  ë•Œ í–ˆì—ˆìŠµë‹ˆë‹¤.
ë‚˜ë¨¸ì§€ ì„¤ëª…ì€ ì½”ë“œ ì˜ˆì‹œë¥¼ ë³´ê³  ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.

```tsx
//Carlist.tsx
import { useQuery } from "@tanstack/react-query";
import { CarResponse } from "../types";
import axios from "axios";

export default function Carlist() {
  const getCars = async (): Promise<CarResponse[]> => {
    const response = await axios.get('http://localhost:8080/api/cars');

    return response.data._embedded.cars;
  }

  const { data, error, isSuccess } = useQuery({
    queryKey: ['cars'],
    queryFn: getCars
  });


  return(<></>);
}
```
- ì°¸ê³  ì‚¬í•­ - useQuery í›…ì€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ë„ ì•Šê³  ë°ì´í„°ì˜ ìë£Œí˜• ë˜í•œ ëª¨ë¥´ê¸° ë•Œë¬¸ì— íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì œë„¤ë¦­ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ë¦¬ì•¡íŠ¸ëŠ” ë°ì´í„°ì˜ ìë£Œí˜•ì„ ìœ ì¶”í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìˆ˜ë™ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì›ë˜ ì œë„¤ë¦­ì„ ëŒ€ë†“ê³  ì“°ëŠ” ë°©ì‹ì€ ì´í•˜ì™€ ê°™ìŠµë‹ˆë‹¤.
```tsx
  const { data, error, isSuccess } = useQuery<CarResponse[], Error>({
    queryKey: ['cars'],
    queryFn: getCars
  });
```

ì €í¬ return íŒŒíŠ¸ ì•„ë¬´ê²ƒë„ ì•ˆì¼ëŠ”ë°, useQuery ì¼ì„ ë•Œ _ì¡°ê±´ë¶€ ë Œë”ë§_ ì„ í–ˆì—ˆìŠµë‹ˆë‹¤. ì„±ê³µí–ˆì„ ë•Œ, ì‹¤íŒ¨í–ˆì„ ë•Œ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•œê±° ë– ì˜¬ë¦¬ì‹œë©´ ë©ë‹ˆë‹¤.

ì¼ë‹¨ mui ì“°ê¸° ì „ì— JS ë°°ì—´ í˜•íƒœë¡œ í•œ ë²ˆ table ì‘ì„±ì„ í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## í™˜ê²½ ë³€ìˆ˜ ì´ìš©

ë°±ì—”ë“œê°€ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì„œë²„ì— ë°°í¬ê°€ ëœë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ ë”ì´ìƒ localhost:8080ì„ ì“°ì§€ ì•Šê²Œ ë ê²ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ê·¸ë•Œë§ˆë‹¤ ë°±/í”„ë¡ íŠ¸ì— localhost:8080ì„ ê²€ìƒ‰í•´ì„œ í•˜ë‚˜í•˜ë‚˜ ë°”ê¾¼ë‹¤ê³  ìƒê°í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ëŠ” ê²ƒì„ ì´í•´í• ê²ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì œê°€ Java ë•Œë¶€í„° ì„¤ëª…í•˜ë˜ í•˜ë“œì½”ë”©ì´ ê·¸ë•Œë„ ì ìš©ì´ ëœë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ì €í¬ëŠ” í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ URL ê°’ì´ ë°”ë€Œë”ë¼ë„ í•œ êµ°ë°ë§Œ ìˆ˜ì •í•´ë„ ë˜ë„ë¡ ì‘ì„±í•  ì˜ˆì •ì…ë‹ˆë‹¤.

vite í”„ë¡œì íŠ¸ì˜ ê²½ìš° í™˜ê²½ ë³€ìˆ˜ ì´ë¦„ì€ `VITE_`ë¡œ ì‹œì‘í•´ì•¼ë§Œ í•©ë‹ˆë‹¤.

ì•±ì˜ ë£¨íŠ¸ í´ë”ì— `.env` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.
```env
VITE_API_URL = http://localhost:8080
```

src í•˜ìœ„ í´ë”ì— api í´ë”ë¥¼ ìƒì„± -> carapi.ts íŒŒì¼ ìƒì„±

ì´ìƒì˜ ê³¼ì • ì´ìœ  - ëª¨ë“  API í˜¸ì¶œ í•¨ìˆ˜ë¥¼ ìì²´ ëª¨ë“ˆë¡œ ë¶„ë¦¬ -> getCars()ë¼ëŠ” í•¨ìˆ˜ê°€ í˜„ì¬ëŠ” Carlist ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ, í˜¹ì‹œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸Aì—ì„œ ì‚¬ìš©í•˜ê²Œ ë  ìˆ˜ë„ ìˆì£ . ê·¸ëŸ¼ ê·¸ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸A, B, C ë“±ì—ì„œ Carlist ì»´í¬ë„ŒíŠ¸ë¥¼ í†µì§¸ë¡œ ë‹¤ import í•˜ê²Œ ë˜ë©´ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ì— í•´ë‹¹í•˜ê² ì£ .

```ts
//carapi.ts
import axios from "axios";
import { CarResponse } from "../types";

export const getCars = async (): Promise<CarResponse[]> => {
  const response = await axios.get(`${import.meta.env.VITE_API_URL}/api/cars`);

  return response.data._embedded.cars;
}
```
ì´ìƒì˜ ì„¤ëª… ë‚´ìš©ì„ ì ìš©í•œ ì½”ë“œê°€ ìœ„ì™€ ê°™ìŠµë‹ˆë‹¤.
ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€
fetch ë°›ì•„ì˜¤ê²Œ ë˜ëŠ” ê²½ìš°ì— ëª…ì‹œí•˜ëŠ” URLì„ .envì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ì„œëŠ”
`import.meta.env.í™˜ê²½_ë³€ìˆ˜ëª…` ìœ¼ë¡œ ì‘ì„±í•´ì•¼ í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‚˜ë¨¸ì§€ ì—”ë“œí¬ì¸íŠ¸ë§Œ string í˜•íƒœë¡œ ì‘ì„±í•´ì£¼ë©´ ë°°í¬ ì´í›„ë‚˜ í¬íŠ¸ ë²ˆí˜¸ê°€ ë°”ë€Œë”ë¼ë„ .envì˜ VITE_API_URLë§Œ ìˆ˜ì •í•´ì£¼ì‹œë©´ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì€ ë³€ìˆ˜ë¥¼ ë°›ì•„ì˜¤ëŠ” í˜•íƒœì´ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ ë°œìƒì˜ ê°€ëŠ¥ì„±ì€ ë‚®ì•„ì§€ê³  ìœ ì§€ë³´ìˆ˜ì„±ì´ ë†’ì•„ì§„ë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## í˜ì´ì§•, í•„í„°ë§, ì •ë ¬
ì´ìš©í• ê±´ë° ì €í¬ AG-Gridë§ê³  ë‹¤ë¥¸ê±° ì¨ë³´ê² ìŠµë‹ˆë‹¤.

ë‘˜ ì¤‘ì— ì—¬ëŸ¬ë¶„ì´ í…Œì´ë¸”ì„ ì“°ì‹ ë‹¤ë©´ ë” ë§ˆìŒì— ë“œëŠ” ê±° ì‚¬ìš©í•˜ì‹œë©´ ë˜ê² ìŠµë‹ˆë‹¤.

ë°¥ë¨¹ê³  2ì‹œ10ë¶„ì— í• ê²Œìš”